import{j as e,r as f,c as h}from"./index-BMcYsf5r.js";function k({className:o=""}){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`inline-block align-middle ${o}`.trim(),children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]})}function w(o,r,n){return o.map(({selector:i,attributes:a,value:s})=>{if(s===void 0)return()=>{};let t=document.head.querySelector(i);const m=!t;t||(t=r(),Object.entries(a).forEach(([d,l])=>{t?.setAttribute(d,l)}),document.head.appendChild(t));const c=t.getAttribute(n);return t.setAttribute(n,s),()=>{t&&(m?document.head.removeChild(t):c!==null?t.setAttribute(n,c):t.removeAttribute(n))}})}function E(o,r,n){f.useEffect(()=>{if(typeof document>"u")return;const i="Jason Kim",a=document.title,s=o?`${o} | ${i}`:i;document.title=s;let t;if(typeof window<"u"&&window.location){const{origin:l,pathname:p}=window.location;l&&(t=`${l}${p}`)}!t&&n&&(t=`/${n}`);const c=w([{selector:'meta[name="description"]',attributes:{name:"description"},value:r},{selector:'meta[property="og:title"]',attributes:{property:"og:title"},value:s},{selector:'meta[property="og:description"]',attributes:{property:"og:description"},value:r},{selector:'meta[property="og:url"]',attributes:{property:"og:url"},value:t},{selector:'meta[name="twitter:title"]',attributes:{name:"twitter:title"},value:s},{selector:'meta[name="twitter:description"]',attributes:{name:"twitter:description"},value:r},{selector:'meta[name="twitter:url"]',attributes:{name:"twitter:url"},value:t},{selector:'meta[name="robots"]',attributes:{name:"robots"},value:"index, follow"}],()=>document.createElement("meta"),"content"),d=w([{selector:'link[rel="canonical"]',attributes:{rel:"canonical"},value:t}],()=>document.createElement("link"),"href");return()=>{document.title=a,[...c,...d].forEach(l=>l())}},[o,r,n])}function C({title:o,subtitle:r,description:n,slug:i,onNavigateToIndex:a,children:s}){return E(o,n,i),e.jsxs("div",{className:"flex flex-col w-full overflow-visible content-page-container",children:[e.jsx("div",{className:"w-full mb-8 overflow-visible",children:e.jsxs("button",{onClick:a,className:"portfolio-link content-page-back-button cursor-pointer transition-colors duration-300 focus-ring rounded-sm",style:{fontSize:"var(--portfolio-font-size)",lineHeight:"var(--portfolio-line-height)",fontFamily:"var(--portfolio-font-family)"},children:[e.jsx("span",{className:"content-page-back-button__icon","aria-hidden":"true",children:e.jsx(k,{})}),e.jsx("span",{children:"Index"})]})}),e.jsx("div",{className:"w-full overflow-visible",children:e.jsxs("div",{className:"flex flex-col gap-6 overflow-visible",children:[e.jsxs("div",{className:"flex flex-col gap-1 overflow-visible",children:[e.jsx("h1",{className:"portfolio-text halbfett",tabIndex:-1,children:o}),r&&e.jsx("p",{className:"portfolio-text--muted",children:`${r}, ${new Date().getFullYear()}`})]}),s]})})]})}function I({pageType:o="writing",orientation:r,caption:n,children:i}){const a=()=>o==="photography"?r==="landscape"?"w-full md:w-[120%] md:-ml-[10%]":"w-full md:w-[95%] md:-ml-[2.5%]":"w-full md:w-[115%] md:-ml-[7.5%]";return e.jsxs("figure",{className:`mt-10 mb-6 inline-image-container ${a()}`,children:[e.jsxs("div",{className:"relative w-full overflow-hidden shadow-[0px_2px_8px_0px_rgba(0,0,0,0.15)]",children:[i,e.jsx("div",{"aria-hidden":"true",className:"pointer-events-none absolute border-[8px] border-solid border-white inset-[-8px] shadow-[0px_2px_8px_0px_rgba(0,0,0,0.15)]"})]}),n&&e.jsx("figcaption",{className:"mt-5 text-sm text-[#9c9c9b] leading-relaxed text-center",children:n})]})}function _({src:o,alt:r,priority:n=!1,aspectRatio:i,containerClassName:a,containerStyle:s,placeholderClassName:t,className:m,style:c,onLoad:d,onError:l,...p}){const[v,b]=f.useState(!1),[u,g]=f.useState(!1);f.useEffect(()=>{b(!1),g(!1)},[o]);const j=x=>{b(!0),d?.(x)},y=x=>{g(!0),l?.(x)},N=i?{aspectRatio:i}:void 0;return e.jsxs("div",{className:h("relative w-full overflow-hidden bg-[#f5f5f5]",u&&"bg-[#e3e3e3]",a),style:{...N,...s},children:[e.jsx("img",{...p,src:o,alt:r,loading:n?"eager":"lazy",fetchPriority:n?"high":"auto",decoding:"async",className:h("w-full h-full object-cover transition-opacity duration-500 ease-out",v&&!u?"opacity-100":"opacity-0",u&&"invisible",m),style:c,onLoad:j,onError:y}),e.jsx("div",{"aria-hidden":"true",className:h("pointer-events-none absolute inset-0 transition-opacity duration-300 ease-out","bg-gradient-to-br from-[#ececec] via-[#f7f7f7] to-[#e7e7e7] motion-safe:animate-pulse",v&&!u?"opacity-0":"opacity-100",t)}),u&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-[#6a6a6a]",children:e.jsx("span",{children:"Image unavailable"})})]})}function P({src:o,alt:r,pageType:n="writing",caption:i,orientation:a,priority:s}){const t=a?a==="portrait"?"3 / 4":"4 / 3":void 0;return e.jsx(I,{pageType:n,orientation:a,caption:i,children:e.jsx(_,{src:o,alt:r,priority:s,aspectRatio:t,className:"h-full",style:{objectPosition:"center"}})})}function L(o){return function(n){const{pageConfig:i,onNavigateToIndex:a}=n;return e.jsx(C,{title:i.title,subtitle:i.subtitle,description:i.description,slug:i.slug,onNavigateToIndex:a,children:e.jsx(o,{...n})})}}export{P as I,_ as P,I as a,L as w};
